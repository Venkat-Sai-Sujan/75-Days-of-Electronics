// Include necessary libraries
#include <Wire.h>
#include <LiquidCrystal.h>
#include <DHT.h>

// Define sensor pins
#define dhtPin A0
#define trigPin 7
#define echoPin 6
#define ldrPin A1

// Define LCD pins
#define lcd_rs 12
#define lcd_en 11
#define lcd_d4 5
#define lcd_d5 4
#define lcd_d6 3
#define lcd_d7 2

// Initialize LCD display
LiquidCrystal lcd(lcd_rs, lcd_en, lcd_d4, lcd_d5, lcd_d6, lcd_d7);

// Initialize DHT sensor
#define DHTTYPE DHT11
DHT dht(dhtPin, DHTTYPE);

void setup() {
  // Set up serial communication
  Serial.begin(9600);

  // Set up LCD display
  lcd.begin(16, 2); // Initialize LCD with 16 columns and 2 rows

  // Set up ultrasonic sensor pins
  pinMode(trigPin, OUTPUT);
  pinMode(echoPin, INPUT);

  // Start DHT sensor
  dht.begin();

  // Print startup message
  lcd.setCursor(0, 0);
  lcd.print("Environment");
  lcd.setCursor(0, 1);
  lcd.print("Monitoring");
  delay(2000);
  lcd.clear();
}

void loop() {
  // Read distance from ultrasonic sensor
  long duration, distance;
  digitalWrite(trigPin, LOW);
  delayMicroseconds(2);
  digitalWrite(trigPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);
  duration = pulseIn(echoPin, HIGH);
  distance = (duration / 2) / 29.1;

  // Read temperature and humidity from DHT11 sensor
  float temperature = dht.readTemperature();
  float humidity = dht.readHumidity();

  // Read ambient light from LDR
  int ldrValue = analogRead(ldrPin);

  // Display sensor data on LCD
  lcd.setCursor(0, 0);
  lcd.print("Dist: ");
  lcd.print(distance);
  lcd.print(" cm");

  lcd.setCursor(0, 1);
  lcd.print("Temp: ");
  lcd.print(temperature);
  lcd.print(" C");

  lcd.setCursor(8, 0);
  lcd.print("Hum: ");
  lcd.print(humidity);
  lcd.print("%");

  lcd.setCursor(8, 1);
  lcd.print("Light: ");
  lcd.print(ldrValue);

  delay(500);
}
